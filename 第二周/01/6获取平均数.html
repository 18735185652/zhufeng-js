<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>获取平均数</title>
</head>
<body>
<script>

    //arguments.sort() //arguments.sort is not a function，arguments是一个类数组集合
    // 它不是数组，不能直接使用数组的方法

    // 求平均数 方法一
    // function avgFn() {
    //     // 1.将类数组转换为数组
    //     var ary = [];
    //     for(var i=0;i<arguments.length;i++){
    //         ary[ary.length] = arguments[i];
    //     }
    //     console.log(ary)
    //     //2.给数组排序，去掉开头和结尾，剩下的数求平均数
    //     ary.sort(function(a,b){
    //         return a-b;
    //     });
    //     ary.shift(); //删除开头
    //     ary.pop();//删除结尾
    //     console.log(ary)
    //     return (eval(ary.join("+"))/ary.length).toFixed(2);
    // }

    //模拟内置的slice实现数组克隆的功能
    // Array.prototype.mySlice = function(){
    //     //this 当前要操作的这个数组ary
    //     var ary = [];
    //     for(var i=0;i<this.length;i++){
    //         ary[ary.length]=this[i];
    //     }
    //
    //     var ary = [];
    //     for(var i=0;i<arguments.length;i++){
    //         ary[ary.length] = arguments[i];
    //     }
    //     return ary;
    // }
    //     var ary = [12,23,34];
    //     var newAry = ary.mySlice();
    //     console.log(newAry);

    // 方法二 argumengs转化为数组
    // function avgFn() {
    //     // 1.将类数组转换为数组，把arguments克隆一份一模一样的出来
    //     //借用数组原型上的slice方法，当slice执行的时候，让方法中的this
    //     // 变为要处理的arguments，实现将数组arguments转换为数组
    //     // var ary = Array.prototype.slice.call(arguments);
    //     var ary =[].slice.call(arguments);
    //     //2.给数组排序，去掉开头和结尾，剩下的数求平均数
    //     ary.sort(function(a,b){
    //         return a-b;
    //     });
    //     ary.shift(); //删除开头
    //     ary.pop();//删除结尾
    //     console.log(ary)
    //     return (eval(ary.join("+"))/ary.length).toFixed(2);
    // }

    // 方法三  arguments 借用数组的方法
    function avgFn() {
        Array.prototype.sort.call(arguments,function(a,b){
            return a-b;
        });

        [].shift.call(arguments); //删除开头
        [].pop.call(arguments);//删除结尾
        return (eval([].join.call(arguments,"+"))/arguments.length).toFixed(2);
    }
    var res = avgFn(9.8,9.7,10,9.9,9.0,9.8,3.0);
    console.log(res);








</script>
</body>
</html>
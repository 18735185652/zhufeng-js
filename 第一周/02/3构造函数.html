<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
//    function createJsPerson(name,age){
//        var obj={};
//        obj.name = name;
//        obj.age=age;
//        obj.writeJs=function(){
//            console.log("my name is"+this.name+",i can write js 啦")
//        }
//        return obj;
//    }
//    var p1 = createJsPerson("伊华芝",18);
//    p1.writeJs()
    //构造函数模式的目的就是为了创建一个自定义类，并且创建这个类的实例
    //构造函数模式和工厂模式的额区别？
    //1.执行的时候
    //普通函数执行 ->createJsPerson()
    //构造函数模式 ->new CreateJsPerson(); 通过new执行，我们的createPerson就是一个类了
    //函数执行的返回值（p1）就是creaceJsPerson这个类的一个实例


//    创建一个数组
      var ary=[]; //字面量方式
      var ary=new Array();//实例创建方式->构造函数模式执行的方式
    //不管哪一种方式 ary都是Array这个类的一个实例

//    1.
    //JS中所有的类都是函数数据类型的，通过new执行，变成了一个类，但是它本身也是
    //一个普通的函数
    //JS中所有的实例都是对象数据类型的
//2
    //在构造函数模式中，类中(函数体重),this.xxx=xxx，是当前类的一个实例
    //2.函数代码执行的时候
    //相同：都是形成一个私有的作用域，然后定义形参赋值，预解释，代码开始从上到下执行(类和普通函数一样，它也有普通函数的一面)
    //不同：在代码执行之前，不用自己在手动创建对象了，浏览器会默认的创建一个对象数据类型的值(这个对象其实就是我们当前类的一个实例)
    //接下来代码从上到下执行，以当前实例为执行的主体(this代表的就是当前的实例)，然后分别的把属性名和属性值赋值给当前的实例
    //最后浏览器会默认的把创建的实例返回

//3
//    p3和p4都是CreateJsPerson这个类的实例，所以都拥有wirteJs这个方法，但是不同实例之间的方法是不一样的
//在类中给实例增加的属性(this.xxx)属于当前实例的私有属性，实例和实例之间是单独的个体，所以私有的属性之间是不相等的

    function CreateJsPerson(name,age){

        this.name = name;
        this.age=age;
        this.writeJs=function(){
            console.log("my name is"+this.name+",i can write js 啦")
            //此处this是p4.writeJs()执行的，所以this还是p4
        }
    }
    var p3 = new CreateJsPerson("伊华芝",18);
    p3.writeJs()
    var p4 = new CreateJsPerson("王小波",48); //this p4
    p4.writeJs() //this  p4
    console.log( p3.writeJs === p4.writeJs);//false
    var res = CreateJsPerson();//这样写不是构造函数执行而是普通函数执行 由于没有return，所以res=undefined，并且
                                //CreateJsPerson这个方法中的this是window

</script>

</body>
</html>